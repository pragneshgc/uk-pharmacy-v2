{"version":3,"mappings":"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","names":["_sfc_main","Error","__vitePreload","response","error","status","date","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_40","_openBlock","_createElementBlock","_createVNode","_component_Modal","_hoisted_3","_hoisted_4","_cache","$event","$data","_vModelText","_hoisted_14","_hoisted_26","_vModelSelect","$options","_toDisplayString","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_createCommentVNode","_hoisted_41","_hoisted_42","_Fragment","_renderList","item"],"ignoreList":[],"sources":["../../../resources/assets/js/components/pages/invoices/InvoicePreview.vue"],"sourcesContent":["<template>\n    <div class=\"content\">\n        <Modal class=\"duplicate-modal\" modal-name=\"additem\">\n            <template v-slot:header>\n                <h2>Add Item</h2>\n            </template>\n            <template v-slot:body>\n                <div class=\"pxp-form wow fadeIn\" style=\"height: auto!important;\">\n                    <div class=\"form-row\">\n                        <h3 class=\"m-10\">Information</h3>\n                    </div>\n                    <div class=\"form-column\">\n                        <div class=\"form-group form-group-2\">\n                            <label for=\"Description\">Description</label>\n                            <input name=\"Description\" v-model=\"item.Description\" autocomplete=\"off\" type=\"text\"\n                                placeholder=\"Description\" class=\"form-control\">\n                        </div>\n                    </div>\n                    <div class=\"form-column\">\n                        <div class=\"form-group form-group-2\">\n                            <label for=\"PrescriptionID\">PrescriptionID</label>\n                            <input name=\"PrescriptionID\" v-model=\"item.PrescriptionID\" autocomplete=\"off\" type=\"text\"\n                                placeholder=\"PrescriptionID\" class=\"form-control\">\n                        </div>\n                    </div>\n\n                    <div class=\"form-column\">\n                        <div class=\"form-group form-group-2\">\n                            <label for=\"ReferenceNumber\">Customer Reference</label>\n                            <input name=\"ReferenceNumber\" v-model=\"item.ReferenceNumber\" autocomplete=\"off\" type=\"text\"\n                                placeholder=\"ReferenceNumber\" class=\"form-control\">\n                        </div>\n                    </div>\n\n                    <div class=\"form-row\">\n                        <h3 class=\"m-10\">Price</h3>\n                    </div>\n\n                    <div class=\"form-column\">\n                        <div class=\"form-group form-group-2\">\n                            <label for=\"UnitCost\">Price</label>\n                            <input name=\"UnitCost\" v-model=\"item.UnitCost\" autocomplete=\"off\" type=\"text\"\n                                placeholder=\"UnitCost\" class=\"form-control\">\n                        </div>\n                    </div>\n                    <div class=\"form-column\">\n                        <div class=\"form-group form-group-2\">\n                            <label for=\"VAT\">VAT</label>\n                            <input name=\"VAT\" v-model=\"item.VAT\" autocomplete=\"off\" type=\"text\" placeholder=\"VAT\"\n                                class=\"form-control\">\n                        </div>\n                    </div>\n\n                    <div class=\"form-column\">\n                        <div class=\"form-group form-group-2\">\n                            <label for=\"Type\">Type</label>\n                            <select class=\"browser-default custom-select\" v-model=\"item.Type\" name=\"Type\">\n                                <option :value=\"3\">Credit/Refund</option>\n                                <option :value=\"4\">Misc Charge</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n            </template>\n            <template v-slot:footer>\n                <button class=\"btn btnSize01 tertiaryBtn\" @click=\"saveItem()\">Save Item</button>\n            </template>\n        </Modal>\n        <section class=\"card\">\n            <div class=\"card-header\">\n                <h3>Invoice #{{ invoice.InvoiceID }} Details</h3>\n            </div>\n            <div class=\"card-body\" style=\"display: flex; flex-direction: raw;justify-content:space-between;\">\n                <div class=\"invoice-details\">\n                    <span>{{ invoice.Client }} invoice # {{ invoice.InvoiceID }}</span>\n                    <br>\n                    <span>DATE COVERED: {{ invoice['Created Date'] }} - {{ invoice['Created Date'] }}</span>\n                    <br>\n                    <span>DATE COMPLETED: {{ invoice['Created Date'] }}</span>\n                    <br>\n                    <span>DATE PAID: {{ invoice['Paid Date'] }}</span>\n                    <br>\n                    <span>GROSS AMOUNT : £{{ invoice.GrossAmount }}</span>\n                    <br>\n                    <span>VAT : £{{ invoice.VAT }}</span>\n                    <br>\n                    <span>NET AMOUNT : £{{ invoice.NetAmount }}</span>\n                    <br>\n                    <span>AMOUNT RECEIVED : £{{ invoice.AmountReceived }}</span>\n                    <br>\n                    <span>STATUS : {{ statuses[invoice.Status] }}</span>\n                    <br>\n                </div>\n                <div class=\"invoice-options\">\n                    <button @click=\"emailInvoice()\" v-if=\"invoice.Status != 0\" title=\"Email Invoice\"\n                        class=\"btn btnSize02 secondaryBtn\">Email Invoice</button>\n                    <!-- <button v-if=\"invoice.Status != 0\" title=\"Send Custom Email\" class=\"btn btnSize02 secondaryBtn\">Send Custom Email</button> -->\n                    <button @click=\"addItem()\" title=\"Add Item\" class=\"btn btnSize02 secondaryBtn\">Add Item</button>\n                    <button v-if=\"invoice.Status == 0\" @click=\"updateInvoiceStatus(1)\" title=\"Set Invoice as Complete\"\n                        class=\"btn btnSize02 secondaryBtn\">Set Invoice as Complete</button>\n                    <!-- <button v-if=\"invoice.Status == 1\" @click=\"updateInvoiceStatus(2)\" title=\"Set Complete Date\" class=\"btn btnSize02 secondaryBtn\">Set Complete Date</button> -->\n                    <button v-if=\"invoice.Status == 1\" @click=\"updateInvoiceStatus(2)\" title=\"Set Invoice As Paid\"\n                        class=\"btn btnSize02 secondaryBtn\">Set Invoice As Paid</button>\n                    <button @click=\"downloadInvoice()\" title=\"View PDF\" class=\"btn btnSize02 secondaryBtn\">View\n                        Invoice</button>\n                </div>\n            </div>\n            <div class=\"card-body\" style=\"padding: 0px;\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Customer Reference</th>\n                            <th>Our Reference</th>\n                            <th>Date</th>\n                            <th>Prescriber</th>\n                            <th>Description</th>\n                            <th>Quantity</th>\n                            <th>Price</th>\n                            <th>VAT</th>\n                            <th>Total</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <template v-for=\"item in invoiceItems\" :key=\"item.ItemID\">\n                            <tr>\n                                <td>{{ item.ReferenceNumber }}</td>\n                                <td>{{ item.ItemID }}</td>\n                                <td>{{ item.Date }}</td>\n                                <td>{{ item.DoctorID }}</td>\n                                <td>{{ item.Description }}</td>\n                                <td>{{ item.Quantity }}</td>\n                                <td>£{{ item.UnitCost }}</td>\n                                <td>£{{ item.VAT }}</td>\n                                <td>£{{ item.VAT + item.UnitCost }}</td>\n                            </tr>\n                        </template>\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nimport Error from '../../../mixins/errors'\n\nexport default {\n    mixins: [Error],\n    components: {\n        'Modal': () => import('../../Modal.vue'),\n    },\n    data() {\n        return {\n            statuses: {\n                0: 'INCOMPLETE',\n                1: 'UNPAID',\n                2: 'PAID',\n                3: 'CREDITNOTE',\n                4: 'DELETED',\n            },\n            item: false,\n            invoice: {},\n            invoiceItems: [],\n            userInfo: userInfo,\n        }\n    },\n    mounted() {\n        this.getInvoice();\n    },\n    methods: {\n        addItem() {\n            this.item = {\n                UnitCost: '',\n                VAT: 1,\n                Description: '',\n                ReferenceNumber: '',\n                PrescriptionID: 0,\n                Type: 3,\n            }\n\n            this.emitter.emit('modal.open', 'additem');\n            // this.notesConfirmed = true;\n            // this.emitter.emit('modal.close', 'quicktraynotes');\n        },\n        saveItem() {\n            axios.post(`/invoice/${this.$route.params.id}/item`, this.item)\n                .then((response) => {\n                    this.item = false;\n                    this.getInvoice();\n                    this.postSuccess(response.data.message);\n                    this.emitter.emit('modal.close', 'additem');\n                })\n                .catch((error) => {\n                    this.postError(error.response.data.message);\n                })\n        },\n        getInvoice() {\n            axios.get(`/invoice/${this.$route.params.id}`)\n                .then((response) => {\n                    this.invoice = response.data.data.invoice;\n                    this.invoiceItems = response.data.data.invoiceItems;\n                })\n                .catch((error) => {\n                    console.log(error);\n                })\n        },\n        downloadInvoice() {\n            window.open(`/invoice/${this.$route.params.id}/preview?token=${this.userInfo.token}`, '_blank');\n        },\n        updateInvoiceStatus(status, date = false) {\n            axios.post(`/invoice/${this.$route.params.id}/status`, { status: status, date: date })\n                .then((response) => {\n                    this.getInvoice();\n                    this.postSuccess(response.data.message);\n                })\n                .catch((error) => {\n                    this.postError(error.response.data.message);\n                })\n        },\n        emailInvoice() {\n            axios.post(`/invoice/${this.$route.params.id}/email?token=${this.userInfo.token}`)\n                .then((response) => {\n                    this.postSuccess(response.data.message);\n                })\n                .catch((error) => {\n                    this.postError(error.response.data.message);\n                })\n        }\n    },\n}\n</script>\n"],"file":"assets/InvoicePreview-DA4-oQFc.js"}