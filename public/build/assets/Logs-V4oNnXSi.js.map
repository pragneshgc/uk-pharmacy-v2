{"version":3,"file":"Logs-V4oNnXSi.js","sources":["../../../resources/assets/js/components/pages/admin/Logs.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"card \">\n            <div class=\"card-header\">\n                <h4>Log Explorer</h4>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12\" style=\"max-height: 200px; overflow: auto;\">\n                        <div v-if=\"currentFolder != '/'\" class=\"fileExplorerIcon\" v-on:click=\"changeFolder('/')\">\n                            <i class=\"fa fa-folder-open-o\" aria-hidden=\"true\"></i>\n                            <span>...</span>\n                        </div>\n                        <div v-for=\"folder in folders\" class=\"fileExplorerIcon\" v-on:click=\"changeFolder(folder)\">\n                            <i class=\"fa fa-folder-o\" aria-hidden=\"true\"></i>\n                            <span>{{ folder }}</span>\n                        </div>\n                        <div v-for=\"file in files\" class=\"fileExplorerIcon clickable\" v-on:click=\"openFile(file)\">\n                            <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\n                            <span>{{ file }}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"card \">\n            <div class=\"card-header\">\n                <h4>{{ selectedFile }}</h4>\n                <input v-model=\"q\" autocomplete=\"off\" type=\"text\" class=\"tBox tBoxSize01  mt-10\" placeholder=\"Search Logs\">\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                        <ul class=\"list-group log-list-group\">\n                            <li v-for=\"(log, i) in logContent\" :key=\"i\" class=\"list-group-item p-0\">\n                                <div>\n                                    {{ log }}\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    data: function () {\n        return {\n            selectedFolder: '/',\n            currentFolder: '/',\n            selectedFile: '',\n            files: [],\n            folders: [],\n            logContent: false,\n            logType: false,\n            q: '',\n        }\n    },\n    computed: {\n        listUrl: function () {\n            return '/logs?folder=' + this.selectedFolder;\n        },\n        fileUrl: function () {\n            return '/logs/view?file=' + this.selectedFile;\n        }\n    },\n    mounted() {\n        this.getFolder();\n    },\n    watch: {\n        q: _.debounce(function () {\n            this.openFile(this.selectedFile);\n        }, 500),\n    },\n\n    methods: {\n        getFolder: function () {\n            axios.get(this.listUrl)\n                .then((response) => {\n                    this.folders = response.data.folders;\n                    this.files = response.data.files;\n                    this.currentFolder = this.selectedFolder;\n                })\n                .catch((error) => {\n                    console.log(error.response.data);\n                });\n        },\n        changeFolder(folder) {\n            this.selectedFolder = folder != '/' ? '/' + folder : '/';\n            this.getFolder();\n        },\n        openFile(file) {\n            if (this.selectedFile != file) {\n                this.selectedFile = '/' + file;\n            }\n\n            let search = '';\n\n            if (this.q != '') {\n                search = `&q=${this.q}`\n            }\n\n            axios.get(this.fileUrl + search)\n                .then((response) => {\n                    this.logContent = response.data.data.array;\n                    this.logType = response.data.data.type;\n                })\n                .catch((error) => {\n                    console.log(error.response.data);\n                });\n        }\n    }\n}\n</script>\n"],"names":["_sfc_main","response","error","folder","file","search","_hoisted_1","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_7","_hoisted_6","_hoisted_9","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_createElementBlock","_hoisted_2","_hoisted_5","_ctx","$options","_hoisted_8","_createCommentVNode","_openBlock","_Fragment","_renderList","$event","_hoisted_10","_hoisted_12","_cache","log","i"],"mappings":"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"}