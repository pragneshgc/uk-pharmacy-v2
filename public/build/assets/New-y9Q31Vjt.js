import{_ as m,s as b,u as a,R as p,E as _,e as i,o,c as d,a as e,m as h,j as l,g as f,t as C,b as v,n as y}from"./app-CzB2aCin.js";const x={setup(){const{checked:t,visible:s}=b(a());return a(),{checked:t,visible:s}},extends:p,data:function(){return{}},mixins:[_],computed:{match(){return this.checked.length==0?!1:this.visible.every(t=>this.checked.indexOf(t)>=0)},currentChecked(){return this.checked.length==0?!1:this.checked.some(t=>this.visible.indexOf(t)>=0)}},destroyed(){this.replaceChecked([])},methods:{checkAllVisible(){this.currentChecked&&!this.match?this.emitter.emit("table.uncheck.all"):this.currentChecked&&this.match?this.emitter.emit("table.uncheck.all"):this.emitter.emit("table.check.all")},addToBlacklist(){axios.post("/blacklist",{ids:this.checked}).then(t=>{this.postSuccess("Added blacklist entry"),this.replaceChecked([])}).catch(t=>{this.postError(t.response.data.message)})},clearChecked(){this.replaceChecked([])}}},g={class:"content"},B={class:"card"},S=e("div",{class:"card-header"},[e("h3",null,"Add to Blacklist")],-1),N={class:"card-body"},T={class:"orderSearch"},V={class:"pl-5",style:{display:"flex","align-items":"center"}},A={key:0,class:"check-options"},z=["checked"],E=e("label",{for:"checkall"},null,-1);function R(t,s,w,r,D,c){const u=i("router-link"),k=i("TableComponentSearch");return o(),d("div",g,[e("section",B,[S,e("div",N,[h(u,{tag:"button",to:"/blacklist",class:"btn btnSize01 secondaryBtn mb-10",exact:""},{default:l(()=>[f(" Return to blacklist ")]),_:1}),e("div",T,[h(k,{"data-url":"/orders/search","column-class":"col-lg-12","table-title":"Prescriptions","redirect-name":"prescription","redirect-id":"PrescriptionID","checkbox-visible":!0,"hidden-columns":["checked","NotFound","NotFound","AirwayBillNumber"],filters:t.filters,"column-map":t.columnMap,"not-orderable":["Products"],"load-on-startup":!1},{toppagination:l(()=>[e("div",V,[r.checked.length>0?(o(),d("div",A,[e("button",{onClick:s[0]||(s[0]=n=>c.addToBlacklist()),class:"btn btnSize02 secondaryBtn"}," Blacklist "+C(r.checked.length)+" orders ",1),e("button",{onClick:s[1]||(s[1]=n=>c.clearChecked()),class:"btn btnSize02 secondaryBtn"}," Clear checked ")])):v("",!0)])]),thfilter:l(()=>[e("div",null,[e("div",{class:"",onClick:s[2]||(s[2]=n=>c.checkAllVisible())},[e("input",{class:y({unchecked:!c.match&&c.currentChecked}),checked:c.match||c.currentChecked,type:"checkbox",name:"checkall"},null,10,z),E])])]),_:1},8,["filters","column-map"])])])])])}const F=m(x,[["render",R]]);export{F as default};
//# sourceMappingURL=New-y9Q31Vjt.js.map
