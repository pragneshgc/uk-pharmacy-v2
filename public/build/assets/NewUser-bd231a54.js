import{n as l,E as d}from"./app-a3e6dddd.js";const n={mixins:[d],data:function(){return{data:{name:"",surname:"",email:"",role:30,password:"",passwordRepeat:"",captcha:""},loading:!1,errors:{},roles:[],captcha_image:""}},mounted(){axios.get("user-roles").then(s=>{this.roles=s.data.data}),this.loadCaptcha()},computed:{postUrl:function(){return"/users"}},methods:{save:function(){this.loading=!0,axios.post(this.postUrl,this.data).then(s=>{this.postSuccess(s.data.message),this.errors={},this.loading=!1,this.$router.push("/users")}).catch(s=>{this.errors=s.response.data.errors,this.loading=!1}),this.loadCaptcha()},loadCaptcha:function(){this.loading=!0,axios.get("/reload-captcha").then(s=>{this.captcha_image=s.data.captcha,this.loading=!1})}}};var c=function(){var a=this,t=a._self._c;return t("div",{staticClass:"content"},[t("section",{staticClass:"card"},[a._m(0),t("div",{staticClass:"card-body"},[t("form",{staticClass:"text-center p-5",on:{submit:function(e){return e.preventDefault(),a.save.apply(null,arguments)}}},[t("p",{staticClass:"h4 mb-3"},[a._v("New User")]),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-lg-6 mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.data.name,expression:"data.name"}],staticClass:"form-control tBoxSize02",attrs:{valid:"",autocomplete:"off",type:"text",id:"defaultContactFormName",placeholder:"Name"},domProps:{value:a.data.name},on:{input:function(e){e.target.composing||a.$set(a.data,"name",e.target.value)}}}),a.errors.name?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.name[0]))]):a._e()]),t("div",{staticClass:"col-lg-6 mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.data.surname,expression:"data.surname"}],staticClass:"form-control tBoxSize02",attrs:{autocomplete:"off",type:"text",id:"defaultContactFormSurnname",placeholder:"Surname"},domProps:{value:a.data.surname},on:{input:function(e){e.target.composing||a.$set(a.data,"surname",e.target.value)}}}),a.errors.surname?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.surname[0]))]):a._e()])]),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-lg-6 mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.data.email,expression:"data.email"}],staticClass:"form-control tBoxSize02",attrs:{autocomplete:"off",type:"email",id:"defaultContactFormEmail",placeholder:"E-mail"},domProps:{value:a.data.email},on:{input:function(e){e.target.composing||a.$set(a.data,"email",e.target.value)}}}),a.errors.email?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.email[0]))]):a._e()]),t("div",{staticClass:"col-lg-6 mb-10"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.data.role,expression:"data.role"}],staticClass:"browser-default custom-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(o){return o.selected}).map(function(o){var i="_value"in o?o._value:o.value;return i});a.$set(a.data,"role",e.target.multiple?r:r[0])}}},a._l(a.roles,function(e,r){return t("option",{key:r,domProps:{value:r}},[a._v(" "+a._s(e)+" ")])}),0),a.errors.role?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.role[0]))]):a._e()])]),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-lg-6 mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.data.password,expression:"data.password"}],staticClass:"form-control tBoxSize02",attrs:{autocomplete:"off",type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:a.data.password},on:{input:function(e){e.target.composing||a.$set(a.data,"password",e.target.value)}}}),a.errors.password?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.password[0]))]):a._e()]),t("div",{staticClass:"col-lg-6 mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.data.passwordRepeat,expression:"data.passwordRepeat"}],staticClass:"form-control tBoxSize02",attrs:{autocomplete:"off",type:"password",name:"password-repeat",id:"passwordRepeat",placeholder:"Repeat Password"},domProps:{value:a.data.passwordRepeat},on:{input:function(e){e.target.composing||a.$set(a.data,"passwordRepeat",e.target.value)}}}),a.errors.passwordRepeat?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.passwordRepeat[0]))]):a._e()])]),t("div",{staticClass:"row mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.data.captcha,expression:"data.captcha"}],staticClass:"form-control tBoxSize02",attrs:{autocomplete:"off",type:"text",name:"captcha",id:"passwordRepeat",placeholder:"Enter Captcha"},domProps:{value:a.data.captcha},on:{input:function(e){e.target.composing||a.$set(a.data,"captcha",e.target.value)}}}),a.errors.captcha?t("div",{staticClass:"invalid-feedback d-block"},[a._v(a._s(a.errors.captcha[0]))]):a._e()]),t("div",{staticClass:"row mb-3"},[t("span",{domProps:{innerHTML:a._s(a.captcha_image)}})]),t("button",{staticClass:"btn btnSize01 secondaryBtn",attrs:{type:"submit"}},[a._v("Save")])])])])])},p=[function(){var s=this,a=s._self._c;return a("div",{staticClass:"card-header"},[a("h3",[s._v("New User")])])}],m=l(n,c,p,!1,null,null,null,null);const v=m.exports;export{v as default};
