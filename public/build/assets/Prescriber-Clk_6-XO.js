import{_ as m,E as c,o as n,c as d,a as o,D as p,w as a,B as l,A as i,F as f,f as h,t as u,b as _}from"./app-82NRaNNR.js";const g={mixins:[c],data:function(){return{data:{},countries:[],errors:{},loading:!1,userInfo,file:"",fileDataURL:""}},mounted(){userInfo.id!=this.$route.params.id&&userInfo.role<50?this.$router.push("/notallowed"):(this.getData(),this.getCountries())},computed:{inputText(){return this.file!=""?this.file.name:"Click to upload a new signature"},imageSrc(){return this.file==""?`/doctors/${this.data.DoctorID}/signature`:URL.createObjectURL(this.file)},dataUrl:function(){return"/doctors/"+this.$route.params.id},postUrl:function(){return"/doctors/"+this.$route.params.id}},methods:{getData:function(){this.loading=!0,axios.get(this.dataUrl).then(e=>{this.data=e.data.data}).catch(e=>{this.reportError(e)}).finally(()=>{this.loading=!1})},getCountries(){this.loading=!0,axios.get("/countries").then(e=>{this.countries=e.data.data}).catch(e=>{this.postError(e.response.data.message)}).finally(()=>{this.loading=!1})},update:function(){this.loading=!0,this.file!=""&&this.uploadSignature(),axios.patch(this.postUrl,this.data).then(e=>{this.postSuccess(e.data.message),this.errors={}}).catch(e=>{this.errors=e.response.data.errors,this.postError(e.response.data.message)}).finally(()=>{this.loading=!1,this.getData()})},inputClick(){document.getElementById("file").click()},attachFile(){let e=document.getElementById("file").files;e.length&&(this.file=e[0])},uploadSignature(){let e=new FormData;e.append("image",this.file),axios.post(`/doctors/${this.$route.params.id}/signature`,e,{headers:{"Content-type":"multipart/form-data"}}).then(t=>{this.postSuccess("Signature updated"),document.getElementById("file").value="",this.file=""}).catch(t=>{this.postSuccess("Failed to update signature"),this.file=""})}}},v={class:"content"},b={class:"card"},y=o("div",{class:"card-header"},[o("h3",null,"Prescriber details")],-1),C={class:"card-body"},U={class:"pxp-form",style:{height:"auto"}},N=o("div",{class:"form-row"},[o("h3",{class:"m-10"},"Basic Information")],-1),A={class:"form-column"},S={class:"form-group form-group-2"},I=o("label",{for:"Name"},"Name",-1),V={class:"form-column"},D={class:"form-group form-group-2"},M=o("label",{for:"Surname"},"Surname",-1),T={class:"form-column"},w={class:"form-group form-group-2"},P=o("label",{for:"ClientID"},"Prescriber Registration Type",-1),E=o("option",{value:0,disabled:""},"Select Prescriber Registration Type",-1),k=o("option",{value:1},"GMC",-1),L=o("option",{value:2},"EU",-1),B=o("option",{value:3},"GPhC",-1),F=o("option",{value:4},"Test",-1),R=o("option",{value:5},"IMC",-1),G=[E,k,L,B,F,R],O={class:"form-column"},$={class:"form-group form-group-2"},j=o("label",{for:"GMCNO"},"Registration Number",-1),z={class:"form-column"},q={class:"form-group form-group-2"},H=o("label",{for:"MedicalInsuranceNo"},"Medical insurance number",-1),J={class:"form-column"},K={class:"form-group form-group-2"},Q=o("label",{for:"CompanyName"},"Company Name",-1),W={class:"form-column"},X={class:"form-group form-group-2"},Y=o("label",{for:"Title"},"Contact Title",-1),Z={class:"form-column"},x={class:"form-group form-group-2"},oo=o("label",{for:"Status"},"Status",-1),eo=o("option",{value:0},"Inactive",-1),to=o("option",{value:1},"Active",-1),so=[eo,to],ao=o("div",{class:"form-row"},[o("h3",{class:"m-10"},"Address Information")],-1),lo={class:"form-column"},ro={class:"form-group form-group-2"},no=o("label",{for:"CountryID"},"Country",-1),io=["value"],uo={class:"form-column"},mo={class:"form-group form-group-2"},co=o("label",{for:"Address1"},"Address Line 1",-1),po={class:"form-column"},fo={class:"form-group form-group-2"},ho=o("label",{for:"Address2"},"Address Line 2",-1),_o={class:"form-column"},go={class:"form-group form-group-2"},vo=o("label",{for:"Address3"},"Address Line 3",-1),bo={class:"form-column"},yo={class:"form-group form-group-2"},Co=o("label",{for:"Address4"},"Address Line 4",-1),Uo={class:"form-column"},No={class:"form-group form-group-2"},Ao=o("label",{for:"Postcode"},"Postcode",-1),So=o("div",{class:"form-row"},[o("h3",{class:"m-10"},"Contact & Login Information")],-1),Io={class:"form-column"},Vo={class:"form-group form-group-2"},Do=o("label",{for:"Telephone"},"Telephone",-1),Mo={class:"form-column"},To={class:"form-group form-group-2"},wo=o("label",{for:"Mobile"},"Mobile",-1),Po={class:"form-column"},Eo={class:"form-group form-group-2"},ko=o("label",{for:"Email"},"Email",-1),Lo={class:"form-column"},Bo={class:"form-group form-group-2"},Fo=o("label",{for:"Username"},"Username",-1),Ro={class:"form-column"},Go={class:"form-group form-group-2"},Oo=o("label",{for:"Password"},"Password",-1),$o={class:"form-column"},jo={class:"form-group form-group-2"},zo=o("label",{for:"Notes"},"Notes",-1),qo=o("hr",null,null,-1),Ho=o("h4",null,"Prescriber Signature",-1),Jo=["src"],Ko={class:"input-mask mt-10"},Qo={class:"file-info"},Wo=o("br",null,null,-1),Xo=o("button",{class:"btn btnSize01 secondaryBtn mt-10",type:"submit"},"Update",-1);function Yo(e,t,Zo,xo,oe,r){return n(),d("div",v,[o("section",b,[y,o("div",C,[o("form",{class:"text-center p-5",onSubmit:t[23]||(t[23]=p((...s)=>r.update&&r.update(...s),["prevent"]))},[o("div",U,[N,o("div",A,[o("div",S,[I,a(o("input",{name:"Name","onUpdate:modelValue":t[0]||(t[0]=s=>e.data.Name=s),autocomplete:"off",type:"text",placeholder:"Name",class:"form-control"},null,512),[[l,e.data.Name]])])]),o("div",V,[o("div",D,[M,a(o("input",{name:"Surname","onUpdate:modelValue":t[1]||(t[1]=s=>e.data.Surname=s),autocomplete:"off",type:"text",placeholder:"Surname",class:"form-control"},null,512),[[l,e.data.Surname]])])]),o("div",T,[o("div",w,[P,a(o("select",{class:"browser-default custom-select","onUpdate:modelValue":t[2]||(t[2]=s=>e.data.DoctorType=s),name:"DoctorType"},G,512),[[i,e.data.DoctorType]])])]),o("div",O,[o("div",$,[j,a(o("input",{name:"GMCNO","onUpdate:modelValue":t[3]||(t[3]=s=>e.data.GMCNO=s),autocomplete:"off",type:"text",placeholder:"Registration Number",class:"form-control"},null,512),[[l,e.data.GMCNO]])])]),o("div",z,[o("div",q,[H,a(o("input",{name:"MedicalInsuranceNo","onUpdate:modelValue":t[4]||(t[4]=s=>e.data.MedicalInsuranceNo=s),autocomplete:"off",type:"text",placeholder:"Medical insurance number",class:"form-control"},null,512),[[l,e.data.MedicalInsuranceNo]])])]),o("div",J,[o("div",K,[Q,a(o("input",{name:"CompanyName","onUpdate:modelValue":t[5]||(t[5]=s=>e.data.CompanyName=s),autocomplete:"off",type:"text",placeholder:"Company Name",class:"form-control"},null,512),[[l,e.data.CompanyName]])])]),o("div",W,[o("div",X,[Y,a(o("input",{name:"Title","onUpdate:modelValue":t[6]||(t[6]=s=>e.data.Title=s),autocomplete:"off",type:"text",placeholder:"Contact Title",class:"form-control"},null,512),[[l,e.data.Title]])])]),o("div",Z,[o("div",x,[oo,a(o("select",{class:"browser-default custom-select","onUpdate:modelValue":t[7]||(t[7]=s=>e.data.Status=s),name:"Status"},so,512),[[i,e.data.Status]])])]),ao,o("div",lo,[o("div",ro,[no,a(o("select",{class:"browser-default custom-select","onUpdate:modelValue":t[8]||(t[8]=s=>e.data.CountryID=s),name:"CountryID"},[(n(!0),d(f,null,h(e.countries,s=>(n(),d("option",{key:s.CountryID,value:s.CountryID},u(s.Name),9,io))),128))],512),[[i,e.data.CountryID]])])]),o("div",uo,[o("div",mo,[co,a(o("input",{name:"Address1","onUpdate:modelValue":t[9]||(t[9]=s=>e.data.Address1=s),autocomplete:"off",type:"text",placeholder:"Address Line 1",class:"form-control"},null,512),[[l,e.data.Address1]])])]),o("div",po,[o("div",fo,[ho,a(o("input",{name:"Address2","onUpdate:modelValue":t[10]||(t[10]=s=>e.data.Address2=s),autocomplete:"off",type:"text",placeholder:"Address Line 2",class:"form-control"},null,512),[[l,e.data.Address2]])])]),o("div",_o,[o("div",go,[vo,a(o("input",{name:"Address3","onUpdate:modelValue":t[11]||(t[11]=s=>e.data.Address3=s),autocomplete:"off",type:"text",placeholder:"Address Line 3",class:"form-control"},null,512),[[l,e.data.Address3]])])]),o("div",bo,[o("div",yo,[Co,a(o("input",{name:"Address4","onUpdate:modelValue":t[12]||(t[12]=s=>e.data.Address4=s),autocomplete:"off",type:"text",placeholder:"Address Line 4",class:"form-control"},null,512),[[l,e.data.Address4]])])]),o("div",Uo,[o("div",No,[Ao,a(o("input",{name:"Postcode","onUpdate:modelValue":t[13]||(t[13]=s=>e.data.Postcode=s),autocomplete:"off",type:"text",placeholder:"Postcode",class:"form-control"},null,512),[[l,e.data.Postcode]])])]),So,o("div",Io,[o("div",Vo,[Do,a(o("input",{name:"Telephone","onUpdate:modelValue":t[14]||(t[14]=s=>e.data.Telephone=s),autocomplete:"off",type:"text",placeholder:"Telephone",class:"form-control"},null,512),[[l,e.data.Telephone]])])]),o("div",Mo,[o("div",To,[wo,a(o("input",{name:"Mobile","onUpdate:modelValue":t[15]||(t[15]=s=>e.data.Mobile=s),autocomplete:"off",type:"text",placeholder:"Mobile",class:"form-control"},null,512),[[l,e.data.Mobile]])])]),o("div",Po,[o("div",Eo,[ko,a(o("input",{name:"Email","onUpdate:modelValue":t[16]||(t[16]=s=>e.data.Email=s),autocomplete:"off",type:"text",placeholder:"Email",class:"form-control"},null,512),[[l,e.data.Email]])])]),o("div",Lo,[o("div",Bo,[Fo,a(o("input",{name:"Username","onUpdate:modelValue":t[17]||(t[17]=s=>e.data.Username=s),autocomplete:"off",type:"text",placeholder:"Username",class:"form-control"},null,512),[[l,e.data.Username]])])]),o("div",Ro,[o("div",Go,[Oo,a(o("input",{name:"Password","onUpdate:modelValue":t[18]||(t[18]=s=>e.data.Password=s),autocomplete:"off",type:"text",placeholder:"Password",class:"form-control"},null,512),[[l,e.data.Password]])])]),o("div",$o,[o("div",jo,[zo,a(o("textarea",{style:{"min-width":"300px","min-height":"60px","line-height":"1"},placeholder:"Add notes for prescriber here","onUpdate:modelValue":t[19]||(t[19]=s=>e.data.Notes=s),class:"form-control tBoxSize02"},null,512),[[l,e.data.Notes]])])]),qo,o("div",{class:"prescriber__signature-upload",style:{display:"inline-block"},onClick:t[21]||(t[21]=(...s)=>r.inputClick&&r.inputClick(...s))},[Ho,o("img",{style:{width:"300px"},class:"mt-10",src:r.imageSrc,alt:""},null,8,Jo),o("input",{type:"file",name:"tracking",id:"file",ref:"file",accept:".jpg, .jpeg, .png",onChange:t[20]||(t[20]=(...s)=>r.attachFile&&r.attachFile(...s))},null,544),o("div",Ko,[o("span",Qo,u(r.inputText),1)])]),Wo,e.file!=""?(n(),d("button",{key:0,onClick:t[22]||(t[22]=s=>e.file=""),class:"btn btnSize01 secondaryBtn",type:"button"},"Cancel")):_("",!0)]),Xo],32)])])])}const te=m(g,[["render",Yo]]);export{te as default};
//# sourceMappingURL=Prescriber-Clk_6-XO.js.map
