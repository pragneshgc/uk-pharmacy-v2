{"version":3,"file":"csv-D9clh__g.js","sources":["../../../resources/assets/js/mixins/csv.js"],"sourcesContent":["export default {\n    methods: {\n        /**\n         * \n         * @param {*} data \n         * @param {*} title \n         */\n        exportCSV: function (data, title) {\n            let csvContent = \"data:text/csv;charset=utf-8,\\uFEFF\";\n            csvContent += this.arrayToCSV(data);\n            var encodedUri = encodeURI(csvContent);\n            // this seems a bit hacky, try doing something else\n            var link = document.createElement(\"a\");\n            link.setAttribute(\"href\", encodedUri);\n            link.setAttribute(\"download\", title + ~~(Date.now() / 1000) + \".csv\");\n            document.body.appendChild(link); // Required for FF\n            link.click(); // This will download the data file named \"my_data.csv\".            \n            document.body.removeChild(link);\n        },\n        /**\n         * \n         * @param {*} objArray \n         */\n        arrayToCSV: function (objArray) {\n            const array = typeof objArray !== 'object' ? JSON.parse(objArray) : objArray;\n            let str = `${Object.keys(array[0]).map(value => `\"${value}\"`).join(\",\")}` + '\\r\\n';\n\n            return array.reduce((str, next) => {\n                str += `${Object.values(next).map(value => `\"${value}\"`).join(\",\")}` + '\\r\\n';\n                str = str.replace(/;/g, '');\n                return this.strip(str);\n            }, str);\n        },\n        /**\n         * \n         * @param {*} html \n         */\n        strip(html){\n            var doc = new DOMParser().parseFromString(html, 'text/html');\n            return doc.body.textContent || \"\";\n        }\n    }\n}"],"names":["CSV","data","title","csvContent","encodedUri","link","objArray","array","str","value","next","html","doc"],"mappings":"AAAA,MAAeA,EAAA,CACX,QAAS,CAML,UAAW,SAAUC,EAAMC,EAAO,CAC9B,IAAIC,EAAa,qCACjBA,GAAc,KAAK,WAAWF,CAAI,EAClC,IAAIG,EAAa,UAAUD,CAAU,EAEjCE,EAAO,SAAS,cAAc,GAAG,EACrCA,EAAK,aAAa,OAAQD,CAAU,EACpCC,EAAK,aAAa,WAAYH,EAAQ,CAAC,EAAE,KAAK,MAAQ,KAAQ,MAAM,EACpE,SAAS,KAAK,YAAYG,CAAI,EAC9BA,EAAK,MAAK,EACV,SAAS,KAAK,YAAYA,CAAI,CACjC,EAKD,WAAY,SAAUC,EAAU,CAC5B,MAAMC,EAAQ,OAAOD,GAAa,SAAW,KAAK,MAAMA,CAAQ,EAAIA,EACpE,IAAIE,EAAM,GAAG,OAAO,KAAKD,EAAM,CAAC,CAAC,EAAE,IAAIE,GAAS,IAAIA,CAAK,GAAG,EAAE,KAAK,GAAG,CAAC;AAAA,EAEvE,OAAOF,EAAM,OAAO,CAACC,EAAKE,KACtBF,GAAO,GAAG,OAAO,OAAOE,CAAI,EAAE,IAAID,GAAS,IAAIA,CAAK,GAAG,EAAE,KAAK,GAAG,CAAC;AAAA,EAClED,EAAMA,EAAI,QAAQ,KAAM,EAAE,EACnB,KAAK,MAAMA,CAAG,GACtBA,CAAG,CACT,EAKD,MAAMG,EAAK,CACP,IAAIC,EAAM,IAAI,UAAS,EAAG,gBAAgBD,EAAM,WAAW,EAC3D,OAAOC,EAAI,KAAK,aAAe,EAClC,CACJ,CACL"}